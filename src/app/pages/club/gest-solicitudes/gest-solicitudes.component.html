<app-navbar></app-navbar>

<div class="solicitudes-container dashboard-container">
  <h2>Gestionar Solicitudes</h2>

  <div *ngIf="solicitudes.length === 0" class="no-solicitudes-message">
    <p>No hay solicitudes para esta vacante.</p>
  </div>

  <div *ngIf="solicitudes.length > 0" class="solicitudes-list vacantes-grid">
    <div *ngFor="let solicitud of solicitudes" class="solicitud-card vacante-card">
      <div class="solicitante-info">
        <img [src]="solicitud.solicitanteDatos.fotografia.url || defaultPicture" alt="Imagen de {{ solicitud.solicitanteDatos.nombre }}" class="solicitante-img">
        <div class="solicitante-details">
          <p><strong>Nombre:</strong> {{ solicitud.solicitanteDatos.nombre }} {{ solicitud.solicitanteDatos.apellidos }}</p>
          <p><strong>Edad:</strong> {{ solicitud.solicitanteDatos.edad }}</p>
          <p><strong>Tipo:</strong> {{ solicitud.solicitanteDatos.tipo }}</p>
        </div>
      </div>

      <p class="solicitud-estado"><strong>Estado:</strong> {{ solicitud.estado }}</p>

      <div class="solicitud-actions vacante-actions">
        <button *ngIf="solicitud.estado !== 'Aceptada'" class="btn btn-success" (click)="cambiarEstado(solicitud, 'Aceptada')">Aceptar</button>
        <button *ngIf="solicitud.estado !== 'Rechazada'" class="btn btn-danger" (click)="cambiarEstado(solicitud, 'Rechazada')">Rechazar</button>
        <button *ngIf="solicitud.estado !== 'En Proceso'" class="btn btn-info" (click)="cambiarEstado(solicitud, 'En Proceso')">En Proceso</button>
      </div>
    </div>
  </div>
</div>
