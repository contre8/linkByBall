<app-navbar></app-navbar>

<div class="container register-form">
  <div class="card register-card shadow-lg p-4">
    <div *ngIf="isLoading" class="loading-overlay">
      <div class="spinner"></div>
      <p>Creando vacante...</p>
    </div>

    <div class="card-body">
      <h2 class="text-center mb-4">Crear Vacante</h2>
      <form [formGroup]="vacanteForm" (ngSubmit)="onSubmit()">

        <!-- Destinatario -->
        <div class="form-row">
          <div class="form-group col-md-6 mb-3">
            <label for="destinatario" class="form-label"><i class="fa fa-users"></i> Para *</label>
            <select formControlName="destinatario" class="form-control" id="destinatario"
              (change)="onDestinatarioChange($event)" required>
              <option value="" disabled selected>Selecciona destinatario</option>
              <option value="Futbolista">Futbolista</option>
              <option value="Entrenador">Entrenador</option>
            </select>
          </div>

          <!-- Posición -->
          <div class="form-group col-md-6 mb-3">
            <label for="posicion" class="form-label"><i class="fa fa-soccer-ball-o"></i> Puesto *</label>
            <select formControlName="posicion" class="form-control" id="posicion"
              [disabled]="!positions || positions.length === 0" required>
              <option value="" disabled selected>Selecciona una posición</option>
              <option *ngFor="let position of positions" [value]="position">{{ position }}</option>
            </select>
          </div>
        </div>

        <!-- Salario -->
        <div class="form-group mb-3">
          <label for="salario" class="form-label"><i class="fa fa-money-bill-wave"></i> Salario (opcional)</label>
          <input type="number" formControlName="salario" class="form-control" id="salario"
            placeholder="Introduce el salario (en €)">
        </div>

        <!-- Descripción -->
        <div class="form-group mb-3">
          <label for="descripcion" class="form-label"><i class="fa fa-align-left"></i> Descripción</label>
          <textarea formControlName="descripcion" class="form-control" id="descripcion" rows="3"
            placeholder="Descripción adicional..." maxlength="150"></textarea>
        </div>

        <!-- Botón para enviar -->
        <div class="d-grid mt-4">
          <button mat-raised-button color="primary" type="submit" [disabled]="!vacanteForm.valid">
            <i class="fa fa-save"></i> Crear Vacante
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
